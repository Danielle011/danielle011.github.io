---
title: 혈당분석기 02. 데이터 수집
date: 2024-10-16 18:58:00 +09:00
categories: [혈당분석기, 데이터 프로세싱]
tags: [혈당, 건강]
---

## 1. 수집 대상 데이터
1. 혈당
2. 식사: 시간, 각 식사 별 탄수화물, 당류, 단백질, 지방의 추정치 기록 필요
3. 신체활동: 운동을 포함하여 5분 가량 짧은 신체활동도 모두 기록되어야 하며, 신체활동의 지속시간과 강도 기록 필요
4. 수면: 수면의 양과 질, 취침/기상 시간 기록 필요

## 2. 데이터 수집 과정
### 2.1 혈당 데이터
연속 혈당 측정기인 Abott의 Freestyle Libre1 을 4번, Dexcom의 G7을 7번 사용하여 혈당 데이터를 수집했다. 데이터 관점에서 두 기기는 정확도와 측정 인터벌에서 차이가 있다. 

정확도는 G7이 Libre1 보다 연속혈당측정기의 정확도를 나타내는 수치인 MARD (Mean Absolute Relative Difference)가 우세하다고 알려져있다.

측정 인터벌은 G7이 블루투스 방식으로 매 5분 마다 자동으로 혈당이 측정되어 모바일 기기로 전송되는 반면, Libre1은 NFC 방식으로 기본적으로 사용자가 태그를 해야 측정값 확인이 가능하며, 이외에 자동 측정되어 쌓이는 데이터의 인터벌은 15분이다.

두 기기 모두 사용자 본인의 혈당 데이터를 CSV 포맷으로 다운로드 받을 수 있도록 제공하고 있다.
### 2.2 식사 데이터
식사 데이터는 선택한 연속 혈당 측정기에 따라 편리성의 차이는 있지만 기본적으로 수기 기록이며, 명확하게 영양성분표가 제공되는 시판 제품만을 섭취하지 않는 한, 어디까지나 추정치이다.

Libre1을 사용하면서는 LibreLink라는 자체 앱을 사용했고, 해당 앱은 식사기록을 단지 사용자가 텍스트로 작성하면 해당 텍스트과 기록한 시간이 저장되는것이 전부였다. 따라서 LibreLink로 부터 식사 데이터로 활용하기 위해서는 식사 별 다량 영양소의 각 합계를 수기로 정리하는 수고로운 과정이 필요하다. 

G7을 사용하면서는 카카오의 파스타라는 혈당 관리 앱을 사용했다. 해당 어플은 식사 사진을 찍으면 음식 종류를 인식하여 자동으로 칼로리와 각종 영양소를 계산하여 기록해주어 Libre1에 비하면 매우 편리하다. 하지만 이것이 파스타 앱을 통한 음식 기록이 정확하다는 뜻은 아니다. 음식 검색 결과에 없어 비슷한 다른 음식으로 기록하는 경우도 많을 수 밖에 없고, 음식의 양을 잘 인식하지 못하기 때문에 매번 가능한 추정치로 수정해줘야 했다. 

즉, 모든 끼니를 명확하게 영양성분표가 제공되는 시판 제품을 정확한 양으로 섭취하지 않는 한, 우리가 매일 만들어 먹고 사먹는 음식의 영양성분 데이터는 어디까지나 추정치일 수 밖에 없다. 따라서 분석을 진행하면서 식사 별 탄수화물/당류/단백질/지방과 같은 다량 영양소 수치를 범주화하여 저/중/고와 같은 그룹으로 고려할 수 있겠으나 실험실이 아닌 일상 생활 세팅에서 진행하는 이러한 분석은 해당 영양소 수치 자체에 민감하게 반응하는 분석 방법 사용은 적절하지 못할 것이라고 판단했다. 

### 2.3 신체활동 데이터
